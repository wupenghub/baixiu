<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>Posts &laquo; Admin</title>
    <link rel="stylesheet" href="/public/vendors/bootstrap-3.3.7-dist/css/bootstrap.css">
    <link rel="stylesheet" href="/public/vendors/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/public/vendors/nprogress/nprogress.css">
    <link rel="stylesheet" href="../public/css/admin.css">
    <link rel="stylesheet" href="/public/css/tripRecord/costType.css">
    <link rel="stylesheet" href="/public/css/load/load.css">
    <script src="../public/vendors/nprogress/nprogress.js"></script>
</head>
<body>
<script>NProgress.start()</script>
<div class="cost main">
    <nav class="navbar">
        <button class="btn btn-default navbar-btn fa fa-bars"></button>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="../admin/profile.html"><i class="fa fa-user"></i>个人中心</a></li>
            <li><a href="login.html"><i class="fa fa-sign-out"></i>退出</a></li>
        </ul>
    </nav>
    <div class="container-fluid">
        <div class="page-title">
            <h1>费用类型管理</h1>
        </div>
        <ul class="nav nav-tabs cost-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#cost_list" id="cost-list" data-toggle="tab">费用类型列表</a>
            </li>
            <li role="presentation"><a href="#cost_modify" id="cost-modify" data-toggle="tab">费用类型修改</a></li>
        </ul>
        <div class="tab-content cost-content">
            <div class="tab-pane active" id="cost_list">
                <div class="page-action">
                    <ul class="pagination pagination-sm pull-right pages-nav">
                    </ul>
                </div>
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                    <tr>
                        <th class="text-center">费用类型编码</th>
                        <th class="text-center">费用类型描述</th>
                        <th class="text-center">费用金额上限</th>
                        <th class="text-center">费用类型修改</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane" id="cost_modify">
                <div style="background:#ffffff;" class="clearfix">
                    <div class="search_text_div">
                        <sapn class="text-content">费用类型：</sapn>
                        <input type="text" class="search_text" id="cost_type_desc" readonly="readonly">
                        <input style="display: none" id="cost_type_code" readonly="readonly">
                        <button class="search_btn glyphicon glyphicon-search" data-toggle="modal"
                                data-target="#modal_tree" onclick="showModal('FY')"></button>
                    </div>
                    <div class="search_text_div">
                        <sapn class="text-content">公司类型：</sapn>
                        <input type="text" class="search_text" id="company_type_desc" readonly="readonly">
                        <input style="display: none" type="text" id="company_type_code" readonly="readonly">
                        <button class="search_btn glyphicon glyphicon-search" data-toggle="modal"
                                data-target="#modal_tree" onclick="showModal('GS')"></button>
                    </div>
                    <div class="search_text_div">
                        <sapn class="text-content">职级：</sapn>
                        <input type="text" class="search_text" id="level_desc" readonly="readonly">
                        <input style="display: none" type="text" id="level_code" readonly="readonly">
                        <button class="search_btn glyphicon glyphicon-search" data-toggle="modal"
                                data-target="#modal_tree" onclick="showModal('ZJ')"></button>
                    </div>
                    <button type="button" class="btn btn-info" id="cost-search">查询</button>
                </div>
                <div class="cost_type_list">
                    <div class="cost_type_div">
                       <span> 费用类型名称：</span><input type="text" id="cost_type_desc_modify" placeholder="请输入要修改的名称">
                        <span>上限金额：</span><input type="number" id="cost_type_max_count_modify" placeholder="请输入要修改的上限金额">
                        <button type="button" class="btn btn-info" id="cost-type-modify">修改</button>
                    </div>
                    <div type="button" class="add">
                        <span class="add_font glyphicon glyphicon-plus"></span>
                        <span class="add_text">添加记录</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="aside">
        <div class="profile">
            <img class="avatar">
            <h3 class="name"></h3>
        </div>
        <ul class="nav">
        </ul>
    </div>
    <div class="mask">
        <span class="glyphicon glyphicon-refresh loading"></span>
    </div>
    <!-- Modal -->
    <div class="modal fade cost-manger-tree" id="modal_tree" tabindex="-1">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" >公司列表</h4>
                </div>
                <div class="modal-body">
                    <ul class="type-list">

                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script src="../public/vendors/jquery/jquery.js"></script>
    <script src="/node_modules/art-template/lib/template-web.js"></script>
    <script src="../public/vendors/bootstrap/js/bootstrap.js"></script>
    <script src="/public/vendors/util/utils.js"></script>
    <script src="/public/js/bussnessTrip/CostType.js"></script>
    <script type="text/javascript" id="template">{{dataJsonArr}}</script>
    <script type="text/art-template" id="costsList">
        <% for(var i = 0;i<costTypeJsonArray.length ;i++){ %>
            <tr>
                <td class="text-center"><%= costTypeJsonArray[i].costTypeCode %></td>
                <td class="text-center"><%= costTypeJsonArray[i].costDesc %>（<%= costTypeJsonArray[i].costTypeDesc %>）</td>
                <td class="text-center"><%= costTypeJsonArray[i].ceilCost %></td>
                <td class="text-center">
                    <a href="javascript:;" class="btn btn-default btn-xs cost_type_edit"
                       data-desc="<%= costTypeJsonArray[i].costDesc %>@<%= costTypeJsonArray[i].companyTypeDesc %>@<%= costTypeJsonArray[i].levelDesc %>"
                       data-code="<%= costTypeJsonArray[i].costTypeCode %>@<%= costTypeJsonArray[i].companyTypeCode %>@<%= costTypeJsonArray[i].LEVEL %>">编辑</a>
                    <a href="javascript:;" class="btn btn-danger btn-xs cost_type_delete"
                       data-no="<%= costTypeJsonArray[i].costTypeCode %>">删除</a>
                </td>
            </tr>
            <% } %>
    </script>
    <script type="text/art-template" id="typeList">
        <% if(returnData){ %>
        <% for(var i = 0;i<returnData.length ;i++){ %>
            <li class="type-item" data-cost-code="<%=  returnData[i].code %>" onclick="showInfo('<%= returnData[i].queryType %>',this)"><%= returnData[i].descr %></li>
        <% } %>
        <% } %>
    </script>
    <script>NProgress.done()</script>
</body>
</html>
